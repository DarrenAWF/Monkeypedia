<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="monkeypedia_sheet01.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="Monkeypedia.js"></script>
    
</head>

<body>
    <!--HEADER------------------------------------------------------->
    <nav>
        <label class="logo"><a href="main.html"><img src="images/Monkeypedia_Logo.png">Monkeypedia</a></label>
        <ul>
            <li><a class="monkeyOfTheDayClass" href="monkeyOfTheDay.html">Monkey of the Day</a></li>
            <li><a href="sign_in.html">Sign in</a></li>
        </ul>
    </nav>
    <!--HEADER------------------------------------------------------->
    <!--SIDEBAR------------------------------------------------------>
    <div class="sidebar">
        <input class="searchbar" id="search" type="text" placeholder="Search Monkeys">
        <header>Filters</header>
        <ul>
            <li>
                <input id="checkboxRegion" type="checkbox" onclick="checkRegion()"> Region
                <div class="filterList" id="regionList">
                    <ul>
                        <li><input value = "Africa" id="africa" onclick="regionSelector(this)" type="checkbox"> Africa</li>
                        <li><input value = "Asia" id="asia" onclick="regionSelector(this)" type="checkbox"> Asia</li>
                        <li><input value = "Latin America" id="latinAmerica" onclick="regionSelector(this)" type="checkbox"> Latin America</li>
                    </ul>
                </div>
            </li>
            <li>
                <input id="checkboxSpecies" type="checkbox" onclick="checkSpecies()"> Species

                <div class="filterList" id="speciesList">
                    <ul>
                        <li><input value = "Gibbon" id="gibbons" onclick="speciesSelector(this)" type="checkbox"> Gibbons</li>
                        <li><input value = "Great Ape" id="greatApes" onclick="speciesSelector(this)" type="checkbox"> Great Apes</li>
                        <li><input value = "Lemur" id="lemurs" onclick="speciesSelector(this)" type="checkbox"> Lemurs</li>
                    </ul>
                </div>
            </li>
            <li><input id="checkboxDiet" type="checkbox" onclick="checkDiet()"> Diet
                <div class="filterList" id="dietList">
                    <ul>
                        <li><input value = "Herbivore" id="herbivore" onclick="dietSelector(this)" type="checkbox"> Herbivore</li>
                        <li><input value = "Omnivore" id="omnivore" onclick="dietSelector(this)" type="checkbox"> Omnivore</li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
    <!--SIDEBAR------------------------------------------------------>
    <!--CONTENT------------------------------------------------------>
    <div class="content">
        <div id="resultsTitle" class="title">Search Results</div>
        <ul id="results" class="monkeyList">
        </ul>
    </div>
    <!--CONTENT------------------------------------------------------>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const input = urlParams.get('input');
        const regionSearch = urlParams.get('region');
        const speciesSearch = urlParams.get('species');
        const dietSearch = urlParams.get('diet');
         region = regionSearch;
         species = speciesSearch;
         diet = dietSearch;
        //re-checks previous filters
        if(regionSearch != "Any"){
            document.getElementById("checkboxRegion").checked = true;
            checkRegion();
        }    
        if(speciesSearch != "Any"){
            document.getElementById("checkboxSpecies").checked = true;
            checkSpecies();
            
        }
        if(dietSearch != "Any"){
            document.getElementById("checkboxDiet").checked = true;
            checkDiet();
        }
        var idFinder = document.querySelectorAll("*");
        for (let i = 0; i < idFinder.length; i++){
            if (idFinder[i].value === region){
                document.getElementById(idFinder[i].id).checked = true;
            }
            if (idFinder[i].value === species){
                document.getElementById(idFinder[i].id).checked = true;
            }
            if (idFinder[i].value === diet){
                document.getElementById(idFinder[i].id).checked = true;
            }
        }

        //Outputs results
        results(input, regionSearch, speciesSearch, dietSearch);
    </script>
</body>

</html>
